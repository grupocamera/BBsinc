<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title></title>

  <!-- Fallback absoluto se JS falhar: após 2s vai para o EXTERNO -->
  <meta http-equiv="refresh" content="2; url=http://187.49.156.114:5005/BBsinc/login">

  <script>
    // ================== CONFIGURE AQUI ==================
    const URL_INTERNO   = "http://192.168.0.44:5005/BBsinc/login";
    const URL_TERCEIRO  = "https://192.168.0.44/BBsinc/login"; // <--- novo candidato (exemplo)
    const URL_EXTERNO   = "http://187.49.156.114:5005/BBsinc/login";
    const TIMEOUT_MS    = 900; // 700–900ms costuma ser ideal
    const GUARDA_MS     = 2000; // guarda geral para evitar travas (ajustado p/ 2s)
    // ====================================================

    function timeout(ms) {
      return new Promise((_, reject) => setTimeout(() => reject(new Error("timeout")), ms));
    }

    function navegar(url) {
      window.location.replace(url); // não polui histórico
    }

    async function testaURL(url) {
      // Em HTTPS, um fetch para HTTP pode falhar (mixed content) -> cai no catch
      // no-cors evita CORS, HEAD é leve.
      await Promise.race([
        fetch(url, { method: "HEAD", mode: "no-cors", cache: "no-store" }),
        timeout(TIMEOUT_MS),
      ]);
    }

    async function tentarAcesso() {
      // Guarda geral: se nada resolveu em GUARDA_MS, cai no EXTERNO
      const guarda = setTimeout(() => navegar(URL_EXTERNO), GUARDA_MS);

      try {
        // 1) Tenta interno
        await testaURL(URL_INTERNO);
        clearTimeout(guarda);
        return navegar(URL_INTERNO);
      } catch (_) {
        // segue para o próximo
      }

      try {
        // 2) Tenta terceiro
        await testaURL(URL_TERCEIRO);
        clearTimeout(guarda);
        return navegar(URL_TERCEIRO);
      } catch (_) {
        // segue para o próximo
      }

      // 3) Vai para externo
      clearTimeout(guarda);
      navegar(URL_EXTERNO);
    }

    window.addEventListener("load", tentarAcesso);
  </script>

  <style>
    html, body { background: #ffffff; margin: 0; padding: 0; height: 100%; }
  </style>
</head>
<body></body>
</html>
